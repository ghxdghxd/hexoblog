<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[hexo安装配置]]></title>
      <url>/papers/2018-03-20-hexo.html</url>
      <content type="html"><![CDATA[<ul>
<li>1</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">建立空仓库</span><br><span class="line">git <span class="built_in">clone</span> git@github.com:ghxdghxd/ghxdghxd.github.io.git</span><br><span class="line"><span class="built_in">cd</span> ghxdghxd.github.io</span><br><span class="line">建立分支并切换</span><br><span class="line">git checkout hexo</span><br></pre></td></tr></table></figure>
<ul>
<li>2</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">初始化hexo</span><br><span class="line">mkdir Blog</span><br><span class="line">npm install hexo</span><br><span class="line">hexo init</span><br><span class="line">npm install</span><br><span class="line">cp -a Blog/* ghxdghxd.github.io</span><br><span class="line">rm -r Blog</span><br><span class="line">mv ghxdghxd.github.io Blog</span><br><span class="line"><span class="built_in">cd</span> Blog</span><br><span class="line">npm install hexo-deployer-git</span><br></pre></td></tr></table></figure>
<ul>
<li>3</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">修改_config.yml, 用git可以免密码，如用https:则不免密码</span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: git@github.com:ghxdghxd/ghxdghxd.github.io.git</span><br></pre></td></tr></table></figure>
<ul>
<li>4 pdf插件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">直接插入并显示pdf</span><br><span class="line">npm install hexo-pdf</span><br><span class="line">&#123;% pdf /images/name.pdf %&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>5 插入脚注(reference)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-reference --save</span><br><span class="line">例：</span><br><span class="line">basic footnote[^1]</span><br><span class="line">here is an inline footnote[^2](inline footnote)</span><br><span class="line">and another one[^3]</span><br><span class="line">and another one[^4]</span><br><span class="line"></span><br><span class="line">[^1]: basic footnote content</span><br><span class="line">[^3]: paragraph</span><br><span class="line">footnote</span><br><span class="line">content</span><br><span class="line">[^4]: footnote content with some [markdown](https://en.wikipedia.org/wiki/Markdown)</span><br></pre></td></tr></table></figure>]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[archlinux.md]]></title>
      <url>/papers/2018-03-08-archlinux.html</url>
      <content type="html"><![CDATA[<h1 id="archlinux安装与配置"><a href="#archlinux安装与配置" class="headerlink" title="archlinux安装与配置"></a>archlinux安装与配置</h1><h2 id="archlinux安装"><a href="#archlinux安装" class="headerlink" title="archlinux安装"></a>archlinux安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>u盘启动后</span><br><span class="line">wifi-memu # 连接网络</span><br><span class="line">mount /dev/sda1 /mnt</span><br><span class="line">mkdir -p /mnt/home</span><br><span class="line">mount /dev/sda2 /mnt/home</span><br><span class="line">vi /ect/pacman.d/mirrorlist # 修改中国镜像源,如163.com</span><br><span class="line">pacstrap -i /mnt base base-devel</span><br><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab #生成挂载文件fstab</span><br></pre></td></tr></table></figure>
<h2 id="archlinux-初步配置"><a href="#archlinux-初步配置" class="headerlink" title="archlinux 初步配置"></a>archlinux 初步配置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt /bin/bash #切换到archlinux</span><br></pre></td></tr></table></figure>
<ul>
<li>本地语言</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/locale.gen</span><br><span class="line">    en_US.UTF-8 UTF-8</span><br><span class="line">    zh_CN.UTF-8 UTF-8</span><br><span class="line"></span><br><span class="line">locale-gen #生效</span><br><span class="line">echo LANG=en_US.UTF-8 &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure>
<ul>
<li>时区</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">或</span><br><span class="line">tzselect #按提示选择时区</span><br><span class="line"></span><br><span class="line">hwclock --systohc --utc #设置硬件时间</span><br></pre></td></tr></table></figure>
<ul>
<li>grub引导系统</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr # 支持grub和EFI，可只选grup</span><br><span class="line">grub-install --target=i386-pc --recheck --debug /dev/sda</span><br><span class="line">grup-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<ul>
<li>主机名</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo Garch &gt;&gt; /etc/hostname</span><br></pre></td></tr></table></figure>
<ul>
<li>网络配置</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable dhcpcd.service #有线</span><br><span class="line">pacman -S iw wpa_supplicant dialog #无线</span><br></pre></td></tr></table></figure>
<h2 id="archlinux-配置X"><a href="#archlinux-配置X" class="headerlink" title="archlinux 配置X"></a>archlinux 配置X</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>最小安装</span><br><span class="line">pacman -S xorg-server # X桌面</span><br><span class="line">pacman -S xf86-video-ati # 显卡驱动</span><br><span class="line">pacman -S gnome gnome-tweak-tool</span><br><span class="line">pacman -S ttf-ubuntu</span><br><span class="line"><span class="meta">#</span> 可选</span><br></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> -operation -interest </category>
            
        </categories>
        
        
        <tags>
            
            <tag> -linux </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[meta Analysis]]></title>
      <url>/papers/2018-02-26-meta-analysis.html</url>
      <content type="html"><![CDATA[<h1 id="metafor-document"><a href="#metafor-document" class="headerlink" title="metafor document"></a>metafor document</h1><ul>
<li>An Overview of Functions in the metafor Package</li>
</ul>


	<div class="row">
    <embed src="/documents/metafor_diagram.pdf" width="100%" height="550" type="application/pdf">
	</div>



<ul>
<li>Viechtbauer gesis ma with metafor</li>
</ul>


	<div class="row">
    <embed src="/documents/talks_2016_viechtbauer_gesis_ma_with_metafor.pdf" width="100%" height="550" type="application/pdf">
	</div>



<h2 id="meta-analysis-from-odds-ratios-and-confidence-intervals-using-metafor"><a href="#meta-analysis-from-odds-ratios-and-confidence-intervals-using-metafor" class="headerlink" title="meta-analysis from odds ratios and confidence intervals using metafor"></a>meta-analysis from odds ratios and confidence intervals using metafor</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dm&lt;-structure(list(or = c(<span class="number">1.6</span>, <span class="number">4.4</span>, <span class="number">1.14</span>, <span class="number">1.3</span>, <span class="number">4.5</span>), cill = c(<span class="number">1.2</span>, <span class="number">2.9</span>, <span class="number">0.45</span>, <span class="number">0.6</span>, <span class="number">3.2</span>), ciul = c(<span class="number">2</span>, <span class="number">6.9</span>, <span class="number">2.86</span>, <span class="number">2.7</span>, <span class="number">6.1</span>)), .Names = c(<span class="string">"or"</span>, <span class="string">"cill"</span>, <span class="string">"ciul"</span>), class = <span class="string">"data.frame"</span>, row.names = c(<span class="literal">NA</span>, -<span class="number">5L</span>))</span><br><span class="line"></span><br><span class="line">dm$logor&lt;-log(dm$or)</span><br><span class="line">dm$se1&lt;-(log(dm$ciul)-dm$logor)/<span class="number">1.96</span></span><br><span class="line">dm$se2&lt;-(dm$logor-log(dm$cill))/<span class="number">1.96</span></span><br><span class="line">dm$se&lt;-(dm$se1+dm$se2)/<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">library</span>(metafor)</span><br><span class="line">dmres&lt;-rma.uni(yi=logor, sei=se, data=dm)</span><br><span class="line">pdf()</span><br><span class="line">forest(dmres, atransf=exp, showweights = <span class="literal">T</span>, mlab = <span class="string">"rsid"</span>, slab = paste0(<span class="string">"study"</span>, <span class="number">1</span>:<span class="number">5</span>))</span><br><span class="line">dev.off()</span><br></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> 统计 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> R </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[docker 安装与配置]]></title>
      <url>/papers/2018-02-11-docker.html</url>
      <content type="html"><![CDATA[<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><h2 id="centos-yum-install-docker"><a href="#centos-yum-install-docker" class="headerlink" title="centos yum install docker"></a>centos yum install docker</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tee /etc/yum.repos.d/docker.repo &lt;&lt;-'EOF'</span><br><span class="line">[dockerrepo]</span><br><span class="line">name=Docker Repository</span><br><span class="line">baseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://yum.dockerproject.org/gpg</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">sed -i 's/other_args=\"\"/other_args=\"--graph=\/share\/apps\/docker\"/g' /etc/sysconfig/docker</span><br><span class="line"></span><br><span class="line">for i in `seq 1 8`;</span><br><span class="line">do</span><br><span class="line">    sudo scp /etc/yum.repos.d/docker.repo compute-0-$i:/etc/yum.repos.d/docker.repo</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">rocks run host "yum install docker-engine"</span><br><span class="line">rocks run host "sed -i 's/other_args=\"\"/other_args=\"--graph=\/share\/apps\/docker\"/g' /etc/sysconfig/docker"</span><br></pre></td></tr></table></figure>
<h2 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">手动安装centos6.5 一些需要安装</span><br><span class="line">yum remove docker-engine</span><br><span class="line">cd /share/apps/until/docker/</span><br><span class="line">yum install ./lua-filesystem-1.4.2-1.el6.x86_64.rpm</span><br><span class="line">yum install ./lxc-libs-1.0.11-1.el6.x86_64.rpm</span><br><span class="line">yum install ./lua-lxc-1.0.11-1.el6.x86_64.rpm</span><br><span class="line">yum install ./lua-alt-getopt-0.7.0-1.el6.noarch.rpm</span><br><span class="line">yum install ./lxc-1.0.11-1.el6.x86_64.rpm</span><br><span class="line">yum install ./docker-io-1.7.1-2.el6.x86_64.rpm</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br><span class="line">yum install device-mapper-event-libs</span><br><span class="line">service docker restart</span><br></pre></td></tr></table></figure>
<h3 id="安装错误"><a href="#安装错误" class="headerlink" title="安装错误"></a>安装错误</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">下面错误：</span><br><span class="line">/usr/bin/docker: relocation error: /usr/bin/docker: symbol dm_task_get_info_with_deferred_remove, version Base not defined in file libdevmapper.so.1.02 with link time reference</span><br><span class="line">fix: $ sudo yum install device-mapper-event-libs</span><br><span class="line">如果无法安装，重新更新</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br><span class="line">然后再安装</span><br></pre></td></tr></table></figure>
<h2 id="docker应用"><a href="#docker应用" class="headerlink" title="docker应用"></a>docker应用</h2><h3 id="启动docker"><a href="#启动docker" class="headerlink" title="启动docker"></a>启动docker</h3><pre><code>service docker start
</code></pre><h3 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">添加docker group：</span><br><span class="line">sudo groupadd docker</span><br><span class="line"></span><br><span class="line">将当前用户添加到docker组：</span><br><span class="line">sudo gpasswd -a $&#123;USER&#125; docker</span><br><span class="line"></span><br><span class="line">重启docker服务：</span><br><span class="line">sudo service docker restart</span><br><span class="line">开机启动</span><br><span class="line">chkconfig docker on</span><br></pre></td></tr></table></figure>
<h3 id="修改镜像和容器的存放路径"><a href="#修改镜像和容器的存放路径" class="headerlink" title="修改镜像和容器的存放路径"></a>修改镜像和容器的存放路径</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/etc/sysconfig/docker加入：</span><br><span class="line">other_args="--graph=/data/docker"</span><br><span class="line"></span><br><span class="line">停止Docker服务</span><br><span class="line">service docker stop</span><br><span class="line">备份数据到新的存放路径</span><br><span class="line">cp -rf /var/lib/docker /data/</span><br><span class="line">修改备份/var/lib/docker路径</span><br><span class="line">mv /var/lib/docker&#123;,.bak&#125;</span><br><span class="line">启动Docker服务</span><br><span class="line">service docker start</span><br><span class="line">测试Docker服务</span><br><span class="line">docker info</span><br></pre></td></tr></table></figure>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><ul>
<li>查看镜像 docker images</li>
<li>查找镜像 docker search</li>
<li>查看容器 docker ps -a</li>
<li>运行容器 docker run</li>
<li>将宿主机的/var/data挂载到容器中的/data: docker run -tdi -v /var/data:/data centos</li>
</ul>
<p>如果ls: cannot open directory ‘.’: Permission denied<br>修改/etc/sysconfig/docker，OPTIONS去掉–selinux-enabled</p>
]]></content>
      
        <categories>
            
            <category> 运维 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[Install R and rstudio]]></title>
      <url>/papers/2018-02-10-Install-R-and-rstudio.html</url>
      <content type="html"><![CDATA[<h1 id="install-R"><a href="#install-R" class="headerlink" title="install R"></a>install R</h1><ul>
<li>error</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File failed to load: /extensions/MathZoom.js</span><br><span class="line"><span class="built_in">export</span> CFLAGS=<span class="string">"-I/share/apps/R_depends/include"</span></span><br><span class="line"><span class="built_in">export</span> LDFLAGS=<span class="string">"-L/share/apps/R_depends/lib"</span></span><br></pre></td></tr></table></figure>
<h2 id="configure"><a href="#configure" class="headerlink" title="./configure"></a>./configure</h2><pre><code>./configure --prefix=/opt/R-3.3.1 --enable-R-shlib --with-libpng --with-jpeglib --with-libtiff --with-x --with-tcltk
</code></pre><h3 id="1-configure-error-No-F77-compiler-found"><a href="#1-configure-error-No-F77-compiler-found" class="headerlink" title="1. configure: error: No F77 compiler found"></a>1. configure: error: No F77 compiler found</h3><pre><code>sudo apt-get install gfortran
</code></pre><h3 id="2-configure-error-–with-readline"><a href="#2-configure-error-–with-readline" class="headerlink" title="2. configure: error: –with-readline"></a>2. configure: error: –with-readline</h3><pre><code>sudo apt-get install libreadline-dev
</code></pre><h3 id="3-configure-error-–with-x-yes"><a href="#3-configure-error-–with-x-yes" class="headerlink" title="3. configure: error: –with-x=yes"></a>3. configure: error: –with-x=yes</h3><pre><code>sudo apt-get install libxt-dev
</code></pre><h3 id="4-checking-whether-zlib-support-suffices"><a href="#4-checking-whether-zlib-support-suffices" class="headerlink" title="4. checking whether zlib support suffices"></a>4. checking whether zlib support suffices</h3><pre><code>sudo apt-get install zlib1g-dev
</code></pre><h3 id="5-checking-whether-bzip2-support-suffices"><a href="#5-checking-whether-bzip2-support-suffices" class="headerlink" title="5. checking whether bzip2 support suffices"></a>5. checking whether bzip2 support suffices</h3><pre><code>wget &lt;http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz&gt;

tar xvf bzip2-1.0.6.tar.gz

cd bzip2-1.0.6

sudo make install

OR

make -f Makefile-libbz2_so

make clean

make -n install PREFIX=$R_depends

make install PREFIX=$R_depends

install bzip2-lib
</code></pre><h3 id="6-configure-error-“liblzma"><a href="#6-configure-error-“liblzma" class="headerlink" title="6. configure: error: “liblzma"></a>6. configure: error: “liblzma</h3><pre><code>sudo apt-get install liblzma-dev
</code></pre><h3 id="7-configure-error-pcre-gt-8-10"><a href="#7-configure-error-pcre-gt-8-10" class="headerlink" title="7. configure: error: pcre &gt;= 8.10"></a>7. configure: error: pcre &gt;= 8.10</h3><pre><code>wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz

tar xvf pcre-8.39.tar.gz

cd pcre-8.39

./configure --enable-utf8 --prefix=$R_depends

make &amp;amp; sudo make install
</code></pre><h3 id="8-libcurl-gt-7-28-0-library-and-headers-are-required-with-support-for-https"><a href="#8-libcurl-gt-7-28-0-library-and-headers-are-required-with-support-for-https" class="headerlink" title="8. libcurl &gt;= 7.28.0 library and headers are required with support for https"></a>8. libcurl &gt;= 7.28.0 library and headers are required with support for https</h3><pre><code>wget https://www.openssl.org/source/openssl-1.1.0b.tar.gz

tar xvf openssl-1.1.0b.tar.gz

cd openssl-1.1.0b

./config

make &amp;amp;  sudo make install

wget &lt;https://curl.haxx.se/download/curl-7.50.3.tar.gz&gt;

tar xvf curl-7.50.3.tar.gz

cd curl-7.50.3

./configure --with-ssl=/usr/local/ssl/

make &amp;amp; sudo make install
</code></pre><h3 id="9-configure-WARNING-you-cannot-build-info-or-HTML-versions-of-the-R-manuals"><a href="#9-configure-WARNING-you-cannot-build-info-or-HTML-versions-of-the-R-manuals" class="headerlink" title="9.configure: WARNING: you cannot build info or HTML versions of the R manuals"></a>9.configure: WARNING: you cannot build info or HTML versions of the R manuals</h3><pre><code>sudo apt-get install texinfo
</code></pre><h3 id="10-configure-WARNING-you-cannot-build-PDF-versions-of-the-R-manuals-configure-WARNING-you-cannot-build-PDF-versions-of-vignettes-and-help-pages"><a href="#10-configure-WARNING-you-cannot-build-PDF-versions-of-the-R-manuals-configure-WARNING-you-cannot-build-PDF-versions-of-vignettes-and-help-pages" class="headerlink" title="10. configure: WARNING: you cannot build PDF versions of the R manuals, configure: WARNING: you cannot build PDF versions of vignettes and help pages"></a>10. configure: WARNING: you cannot build PDF versions of the R manuals, configure: WARNING: you cannot build PDF versions of vignettes and help pages</h3><pre><code>sudo apt-get install texlive
</code></pre><h3 id="11-configure-WARNING-neither-inconsolata-sty-nor-zi4-sty-found-PDF-vignettes-and-package-manuals-will-not-be-rendered-optimally"><a href="#11-configure-WARNING-neither-inconsolata-sty-nor-zi4-sty-found-PDF-vignettes-and-package-manuals-will-not-be-rendered-optimally" class="headerlink" title="11. configure: WARNING: neither inconsolata.sty nor zi4.sty found: PDF vignettes and package manuals will not be rendered optimally"></a>11. configure: WARNING: neither inconsolata.sty nor zi4.sty found: PDF vignettes and package manuals will not be rendered optimally</h3><pre><code>wget &lt;http://mirrors.ctan.org/install/fonts/inconsolata.tds.zip&gt;

sudo mv inconsolata.tds.zip /usr/share/texlive/texmf-dist/tex/latex

cd /usr/share/texlive/texmf-dist/tex/latex

unzip inconsolata.tds.zip

sudo mktexlsr
</code></pre><h3 id="12-本版本不支持png"><a href="#12-本版本不支持png" class="headerlink" title="12. 本版本不支持png"></a>12. 本版本不支持png</h3><pre><code>sudo apt-get install libpng16-dev

sudo apt-get install libtiff5-dev
</code></pre><h2 id="make"><a href="#make" class="headerlink" title="make"></a>make</h2><h3 id="1-usr-local-lib-libbz2-a-无法添加符号-错误的值"><a href="#1-usr-local-lib-libbz2-a-无法添加符号-错误的值" class="headerlink" title="1./usr/local/lib/libbz2.a: 无法添加符号: 错误的值"></a>1./usr/local/lib/libbz2.a: 无法添加符号: 错误的值</h3><pre><code>rm /usr/local/lib/libbz2.a

wget &lt;http://zlib.net/zlib-1.2.8.tar.gz&gt;

tar xvf zlib-1.2.8.tar.gz

cd zlib-1.2.8
CC=&apos;gcc -fPIC&apos;
./configure; make test

sudo make install
</code></pre><h3 id="2-usr-bin-ld-cannot-find-lbz2-collect2-error-ld-returned-1-exit-status"><a href="#2-usr-bin-ld-cannot-find-lbz2-collect2-error-ld-returned-1-exit-status" class="headerlink" title="2./usr/bin/ld: cannot find -lbz2 ;  collect2: error: ld returned 1 exit status"></a>2./usr/bin/ld: cannot find -lbz2 ;  collect2: error: ld returned 1 exit status</h3><pre><code>sudo apt-get install libbz2-dev
会用到make CC=&apos;gcc -fPIC&apos;
     make install PREFIX=/software/packages
</code></pre><h2 id="make-install"><a href="#make-install" class="headerlink" title="make install"></a>make install</h2><h3 id="1-conftest-c-1-17-fatal-error-jni-h"><a href="#1-conftest-c-1-17-fatal-error-jni-h" class="headerlink" title="1.conftest.c:1:17: fatal error: jni.h"></a>1.conftest.c:1:17: fatal error: jni.h</h3><pre><code>cd R-3.3.1/doc

wget &lt;https://cran.r-project.org/doc/manuals/r-release/NEWS.pdf&gt;
</code></pre><h2 id="install-rstudio"><a href="#install-rstudio" class="headerlink" title="install rstudio"></a>install rstudio</h2><pre><code>sudo apt-get install libjpeg62-dev

sudo apt-get install libgstreamer0.10-0

sudo apt-get install libgstreamer-plugins-base0.10-0

export RSTUDIO_WHICH_R=&quot;/opt/R-3.3.1/bin/R&quot; 添加到/etc/profile或~/.profile
</code></pre><h3 id="run-R"><a href="#run-R" class="headerlink" title="run R"></a>run R</h3><h3 id="Error-in-grid-Call-L-textBounds-as-graphicsAnnot-xlabel-xlabel-x-x-x-y-无法载入X11字面为2-大小为20的字形-courier-s-s-d"><a href="#Error-in-grid-Call-L-textBounds-as-graphicsAnnot-xlabel-xlabel-x-x-x-y-无法载入X11字面为2-大小为20的字形-courier-s-s-d" class="headerlink" title="Error in grid.Call(L_textBounds, as.graphicsAnnot(xlabel),xlabel),x x, x$y, :无法载入X11字面为2,大小为20的字形--courier-%s-%s---%d-------"></a>Error in grid.Call(L_textBounds, as.graphicsAnnot(xlabel),xlabel),x x, x$y, :无法载入X11字面为2,大小为20的字形-<em>-courier-%s-%s-</em>-<em>-%d-</em>-<em>-</em>-<em>-</em>-<em>-</em></h3><pre><code>sudo apt-get install t1-xfree86-nonfree ttf-xfree86-nonfree ttf-xfree86-nonfree-syriac

sudo apt-get install xfonts-75dpi
sudo apt-get install xfonts-100dpi
sudo apt-get install mesa-utils
sudo apt-get install libxtst-dev
</code></pre><h3 id="using-R"><a href="#using-R" class="headerlink" title="using R"></a>using R</h3><h3 id="无法载入共享目标对象-stringi-so"><a href="#无法载入共享目标对象-stringi-so" class="headerlink" title="无法载入共享目标对象 stringi.so"></a>无法载入共享目标对象 stringi.so</h3><pre><code>install.packages(stringi)
</code></pre><h3 id="R-install-packages-returns-“failed-to-create-lock-directory”"><a href="#R-install-packages-returns-“failed-to-create-lock-directory”" class="headerlink" title="R install.packages returns “failed to create lock directory”"></a>R install.packages returns “failed to create lock directory”</h3><pre><code>R CMD INSTALL --no-lock &amp;lt;pkg&amp;gt;

OR

install.packages(&quot;Rcpp&quot;, dependencies=TRUE, INSTALL_opts = c(&apos;\--no-lock&apos;))
</code></pre><h3 id="An-irrecoverable-exception-occurred-R-is-aborting-now-…-ERROR-loading-failed"><a href="#An-irrecoverable-exception-occurred-R-is-aborting-now-…-ERROR-loading-failed" class="headerlink" title="An irrecoverable exception occurred. R is aborting now … ERROR: loading failed"></a>An irrecoverable exception occurred. R is aborting now … ERROR: loading failed</h3><pre><code>R CMD INSTALL --no-test-load *packages*
</code></pre><h3 id="nlopt"><a href="#nlopt" class="headerlink" title="nlopt"></a>nlopt</h3><pre><code>./configure --enable-shared

make

make install
</code></pre>]]></content>
      
        <categories>
            
            <category> coding </category>
            
        </categories>
        
        
        <tags>
            
            <tag> R </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[tennis racquet]]></title>
      <url>/papers/2018-02-10-tennis-racquet.html</url>
      <content type="html"><![CDATA[<h1 id="网球拍平衡点测量"><a href="#网球拍平衡点测量" class="headerlink" title="网球拍平衡点测量"></a>网球拍平衡点测量</h1><p>这个是每份点得出来的公式（pts点，inch英寸）<br>1pts = 1/8 inch = 1/8 * 2.54cm = 0.3175cm<br>下面以标准拍子27英寸长度为例，换算出是68.5cm，那中心点就是34.25cm。然后假设你所量出平衡点到拍底的距离为h。<br>如果大于34.25，则是（h-34.25）/0.3175=T，就是T点头重<br>如果小于34.25，则是（34.25-h）/0.3175=T，就是T点头轻</p>
<p><img src="/images/平衡点.jpg" alt="平衡点"></p>
<p>图中可知，此时拍子是完全平衡状态，只需测量纸片到底盖的距离就可以了，按这个方法测量出我的拍子是32.34cm，套用公式:<br>（34.25-32.34）÷0.3175=6.015，也就是6点头轻了！</p>
<p>另附上球拍头轻和头重的优劣:<br>头轻拍更灵活易于控制，能让选手在网前有不错的表现，但是不能提供足够大的力量。头重拍，灵活性差，但能提供额外的力量更有利于底线的击球。一般专业的球拍都是头轻拍或者是平衡拍，因为这样更利于网前技术的发挥，而且专业球员都有很好的身体素质可以自身去发力。而初学拍比较多的是头重拍，这样能使初学者并不需要太多的发力就能击出力量较大的球。</p>
]]></content>
      
        <categories>
            
            <category> interest </category>
            
        </categories>
        
        
        <tags>
            
            <tag> tennis </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Bioinformatics]]></title>
      <url>/papers/2018-02-06-bioinformatic.html</url>
      <content type="html"><![CDATA[<h1 id="What-is-Bioinfomatics"><a href="#What-is-Bioinfomatics" class="headerlink" title="What is Bioinfomatics"></a>What is Bioinfomatics</h1><p>Bioinformatics is an interdisciplinary field that develops methods and software tools for understanding biological data.As an interdisciplinary field of science, bioinformatics combines Computer Science, Biology, Mathematics, and Engineering to analyze and interpret biological data. Bioinformatics has been used for in silico analyses of biological queries using mathematical and statistical techniques. More broadly, bioinformatics is applied statistics and computing to biological science.</p>
<p>Bioinformatics is both an umbrella term for the body of biological studies that use computer programming as part of their methodology, as well as a reference to specific analysis “pipelines” that are repeatedly used, particularly in the field of genomics. Common uses of bioinformatics include the identification of candidate genes and single nucleotide polymorphisms (SNPs). Often, such identification is made with the aim of better understanding the genetic basis of disease, unique adaptations, desirable properties (esp. in agricultural species), or differences between populations. In a less formal way, bioinformatics also tries to understand the organisational principles within nucleic acid and protein sequences, called proteomics.[^1]</p>
<p>big data is noisy datasets<br>大数据就像是一片脏乱的海，<br>实验科学是钓鱼(bioexperiment fishes with hook)，生物信息是网鱼(bioinformatics fishes with nets)。</p>
<p>move the ships, fishing net</p>
<p>[^1]:</p>
]]></content>
      
        <categories>
            
            <category> 生信 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> awesome </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[echo color]]></title>
      <url>/papers/2018-02-05-echo-color.html</url>
      <content type="html"><![CDATA[<p>echo显示带颜色，需要使用参数-e<br>格式如下:<br>echo -e “\033[字背景颜色;文字颜色m字符串\033[0m”<br>例如:<br>echo -e “\033[41;37m TonyZhang \033[0m”<br>其中41的位置代表底色, 37的位置是代表字的颜色</p>
<p> 注：<br>1、字背景颜色和文字颜色之间是英文的“”””<br>2、文字颜色后面有个m<br>3、字符串前后可以没有空格，如果有的话，输出也是同样有空格</p>
<p>下面看几个例子：<br>echo -e “\033[30m 黑色字 \033[0m”<br>echo -e “\033[31m 红色字 \033[0m”<br>echo -e “\033[32m 绿色字 \033[0m”<br>echo -e “\033[33m 黄色字 \033[0m”<br>echo -e “\033[34m 蓝色字 \033[0m”<br>echo -e “\033[35m 紫色字 \033[0m”<br>echo -e “\033[36m 天蓝字 \033[0m”<br>echo -e “\033[37m 白色字 \033[0m”</p>
<p>echo -e “\033[40;37m 黑底白字 \033[0m”<br>echo -e “\033[41;37m 红底白字 \033[0m”<br>echo -e “\033[42;37m 绿底白字 \033[0m”<br>echo -e “\033[43;37m 黄底白字 \033[0m”<br>echo -e “\033[44;37m 蓝底白字 \033[0m”<br>echo -e “\033[45;37m 紫底白字 \033[0m”<br>echo -e “\033[46;37m 天蓝底白字 \033[0m”<br>echo -e “\033[47;30m 白底黑字 \033[0m”</p>
<p>控制选项说明 ：</p>
<p>\33[0m 关闭所有属性<br>\33[1m 设置高亮度<br>\33[4m 下划线<br>\33[5m 闪烁<br>\33[7m 反显<br>\33[8m 消隐<br>\33[30m – \33[37m 设置前景色<br>\33[40m – \33[47m 设置背景色<br>\33[nA 光标上移n行<br>\33[nB 光标下移n行<br>\33[nC 光标右移n行<br>\33[nD 光标左移n行<br>\33[y;xH设置光标位置<br>\33[2J 清屏<br>\33[K 清除从光标到行尾的内容<br>\33[s 保存光标位置<br>\33[u 恢复光标位置<br>\33[?25l 隐藏光标<br>\33[?25h 显示光标</p>
]]></content>
      
        <categories>
            
            <category> linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> linux </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[之感]]></title>
      <url>/papers/2018-02-03-the-sense.html</url>
      <content type="html"><![CDATA[<h1 id="之感"><a href="#之感" class="headerlink" title="之感"></a>之感</h1><ol>
<li>话多应知，话少需明</li>
<li>前人看世界，后者品人生</li>
<li>棋逢对手 尽兴，将遇良才 榨干——干的漂亮</li>
<li>有点意思</li>
<li>一个男人在他该出现的时候，总也不出现，那有他和没有他，又有什么差别</li>
<li>数日子过年</li>
<li><p>在距今已经很久远的那一天，我们就约定好了重逢。我知道，我会找到你。《与之彼端，约定的地方》</p>
</li>
<li><p>人们的思维容易出现定势效应(set effect), 因为人们倾向于利用原有的方式解决问题，且会被困在这个思维里，无法跳出。如果<strong>中途停下来处理其他事情，或中断了原来的情景</strong>，即使没有带着答案回来，也能在潜意识中明白一点，原来的思维方式可能是错的，或有新的思考方向。<strong>这就是酝酿效应（incubation effect），指将问题搁置在一旁，能使得原有不合适的知识基础的活动性降低（减少思维定势），并采用新的方法考虑或解决问题。</strong></p>
</li>
<li>定性，知事，选梦; 遇人，择城，终老。</li>
<li>今天是余生中最年轻的一天，想玩就玩去</li>
<li>爱情也许会过时，但“爱你”不会</li>
<li>此为月圆是月缺，彼是月缺为月圆，月圆盼月缺，月缺待月圆。</li>
<li>风起一阵知秋意，</li>
<li>时不时遇见，面对面错过。</li>
<li><strong>三十而立，不是表面的成家或者立业，你立的，是成熟的思维模式，是独立而纵深的思考能力。</strong></li>
<li>寄君一曲，不问曲终人聚散。有说顺其自然？如果有，那是否从此山水不相逢，莫道佳人长与短？</li>
<li>什么是好工作：一不影响生活作息，二不影响家庭团聚，三能养家糊口。</li>
<li>28岁的你会不会被17岁的你嘲笑</li>
<li>只有当你拿起球拍，只有当你走进球场，你才会真正明白，为什么网球会如此受欢迎；只有当你背着行囊，只有当你远离一方，你才会真正明白，为什么过年如此备受期盼——数日子的日子</li>
<li>数日子的时间很慢，计时间的日子最快。看见的起点在远方，摸不着的终点在想…</li>
<li>活在梦想中</li>
<li>阳光不燥微风正好</li>
<li>我做好了要与你过一辈子的打算，也做好了你随时要走的准备</li>
<li>我却觉得这一大笔积分是我这辈子花的最值一次，因为我得到了钱买不来的东西……希望，从来都无法交易的东西</li>
<li>可否，少些理智，享受一下脱轨的惊喜</li>
<li>真正的离开，是没有告别的</li>
<li>最好的修养，是明知不问</li>
<li>健康大于一切</li>
</ol>
]]></content>
      
        <categories>
            
            <category> 路由器 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 私人 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[git]]></title>
      <url>/papers/2018-02-03-git.html</url>
      <content type="html"><![CDATA[<h1 id="Git用法"><a href="#Git用法" class="headerlink" title="Git用法"></a>Git用法</h1><h2 id="1-建立仓库"><a href="#1-建立仓库" class="headerlink" title="1 建立仓库"></a>1 建立仓库</h2><ul>
<li>远程</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:ghxdghxd/$NAME.git</span><br></pre></td></tr></table></figure>
<ul>
<li>本地(初始化)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<h2 id="2-常用操作"><a href="#2-常用操作" class="headerlink" title="2 常用操作"></a>2 常用操作</h2><ul>
<li>拉取</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>
<ul>
<li>提交</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add *.py</span><br><span class="line">git commit -m "message"</span><br><span class="line">git push origin master/dev/develop</span><br></pre></td></tr></table></figure>
<ul>
<li>重命令与删除</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm</span><br><span class="line">git mv</span><br></pre></td></tr></table></figure>
<h2 id="3-分支操作"><a href="#3-分支操作" class="headerlink" title="3 分支操作"></a>3 分支操作</h2><table>
<thead>
<tr>
<th style="text-align:center">主支</th>
<th style="text-align:center">修补</th>
<th style="text-align:center">发布</th>
<th style="text-align:center">开发</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">master</td>
<td style="text-align:center">hotfix</td>
<td style="text-align:center">release</td>
<td style="text-align:center">develop</td>
<td style="text-align:center">feature</td>
</tr>
</tbody>
</table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git branch  /-a/r      # 查看本地/全部/远程分支</span><br><span class="line">git branch [name]      # 建立分支</span><br><span class="line">git branch -d [name]   # 删除分支</span><br><span class="line"></span><br><span class="line">git checkout -b [name] origin/develop  # 建立并切换开发分支</span><br><span class="line">git checkout [name]       # 切换分支</span><br><span class="line">git merge --no-ff [name]  # 合并分支</span><br><span class="line"></span><br><span class="line">git push origin dev:develop # 本地分支提交到远程</span><br></pre></td></tr></table></figure>
<h2 id="push命令用于将本地分支的更新，推送到远程主机。"><a href="#push命令用于将本地分支的更新，推送到远程主机。" class="headerlink" title="push命令用于将本地分支的更新，推送到远程主机。"></a>push命令用于将本地分支的更新，推送到远程主机。</h2><pre><code>git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;
</code></pre><p>git pull类似:<br>    git pull &lt;远程分支&gt;:&lt;本地分支&gt;</p>
<p>注意，分支推送顺序的写法是&lt;来源地&gt;:&lt;目的地&gt;，<br>所以git pull是&lt;远程分支&gt;:&lt;本地分支&gt;，而git push是&lt;本地分支&gt;:&lt;远程分支&gt;。<br>如果省略远程分支名，则表示将本地分支推送与之存在”追踪关系”的远程分支(通常两者同名)，如果该远程分支不存在，则会被新建。</p>
<pre><code>git push origin master
</code></pre><p>上面命令表示，将本地的master分支推送到origin主机的master分支。如果后者不存在，则会被新建。</p>
<p>如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支。</p>
<pre><code>git push origin :master
</code></pre><p>等同于</p>
<pre><code>git push origin --delete master
</code></pre><p>上面命令表示删除origin主机的master分支。</p>
<p>如果当前分支与远程分支之间存在追踪关系，则本地分支和远程分支都可以省略。</p>
<pre><code>git push origin
</code></pre><p>上面命令表示，将当前分支推送到origin主机的对应分支。</p>
<p>如果当前分支只有一个追踪分支，那么主机名都可以省略。</p>
<pre><code>git push
</code></pre><p>如果当前分支与多个主机存在追踪关系，则可以使用-u选项指定一个默认主机，这样后面就可以不加任何参数使用git push。</p>
<pre><code>git push -u origin master
</code></pre><p>上面命令将本地的master分支推送到origin主机，同时指定origin为默认主机，后面就可以不加任何参数使用git push了。</p>
<p>不带任何参数的git push，默认只推送当前分支，这叫做simple方式。此外，还有一种matching方式，会推送所有有对应的远程分支的本地分支。Git 2.0版本之前，默认采用matching方法，现在改为默认采用simple方式。如果要修改这个设置，可以采用git config命令。</p>
<pre><code>git config --global push.default matching
</code></pre><p>或者</p>
<pre><code>git config --global push.default simple
</code></pre><p>还有一种情况，就是不管是否存在对应的远程分支，将本地的所有分支都推送到远程主机，这时需要使用–all选项。</p>
<pre><code>git push --all origin
</code></pre><p>上面命令表示，将所有本地分支都推送到origin主机。</p>
<p>如果远程主机的版本比本地版本更新，推送时Git会报错，要求先在本地做git pull合并差异，然后再推送到远程主机。这时，如果你一定要推送，可以使用–force选项。</p>
<pre><code>git push --force origin
</code></pre><p>上面命令使用–force选项，结果导致在远程主机产生一个”非直进式”的合并(non-fast-forward merge)。除非你很确定要这样做，否则应该尽量避免使用–force选项。</p>
<p>最后，git push不会推送标签(tag)，除非使用–tags选项。</p>
<pre><code>git push origin --tags
</code></pre><h2 id="中文乱码"><a href="#中文乱码" class="headerlink" title="中文乱码"></a>中文乱码</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath false</span><br></pre></td></tr></table></figure>
<p>core.quotepath设为false的话，就不会对0x80以上的字符进行quote。中文显示正常。</p>
<h2 id="gitignore忽略文件"><a href="#gitignore忽略文件" class="headerlink" title="gitignore忽略文件"></a>gitignore忽略文件</h2><p>1、配置语法：</p>
<p>　　以斜杠“/”开头表示目录；</p>
<p>　　以星号“*”通配多个字符；</p>
<p>　　以问号“?”通配单个字符</p>
<p>　　以方括号“[]”包含单个字符的匹配列表；</p>
<p>　　以叹号“!”表示不忽略(跟踪)匹配到的文件或目录；</p>
<p>　　此外，git 对于 .ignore 配置文件是按行从上到下进行规则匹配的，意味着如果前面的规则匹配的范围更大，则后面的规则将不会生效；</p>
<p>2、示例：</p>
<p>　　（1）规则：fd1/*<br>　　　　  说明：忽略目录 fd1 下的全部内容；注意，不管是根目录下的 /fd1/ 目录，还是某个子目录 /child/fd1/ 目录，都会被忽略；</p>
<p>　　（2）规则：/fd1/*<br>　　　　  说明：忽略根目录下的 /fd1/ 目录的全部内容；</p>
<p>　　（3）规则：</p>
<p>/*<br>!.gitignore<br>!/fw/bin/<br>!/fw/sf/</p>
<p>说明：忽略全部内容，但是不忽略 .gitignore 文件、根目录下的 /fw/bin/ 和 /fw/sf/ 目录；</p>
<h2 id="warning-LF-will-be-replaced-by-CRLF"><a href="#warning-LF-will-be-replaced-by-CRLF" class="headerlink" title="warning: LF will be replaced by CRLF"></a>warning: LF will be replaced by CRLF</h2><p>在Windows环境下使用git进行add的时候，会提示如下warning: “warning:LF will be replacee by CRLF”。</p>
<p>这是因为在Windows中的换行符为CRLF，而在Linux中的换行符为LF。<br>在git创建的项目中换行符为LF，而执行git add时，系统会提示LF将被转换为CRLF。<br>解决的办法很简单，禁止git的自动转换即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">false</span> //禁用自动转换</span><br></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> git </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[git submodule]]></title>
      <url>/papers/2018-02-03-submodule.html</url>
      <content type="html"><![CDATA[<h1 id="使用场景-用于项目-中的-项目"><a href="#使用场景-用于项目-中的-项目" class="headerlink" title="使用场景: 用于项目 中的 项目"></a>使用场景: 用于项目 中的 项目</h1><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> &lt;repository&gt; --recursive 递归的方式克隆整个项目</span><br><span class="line">git submodule add &lt;repository&gt;&lt;path&gt; 添加子模块</span><br><span class="line">git submodule init 初始化子模块</span><br><span class="line">git submodule update 更新子模块</span><br><span class="line">git submodule foreach git pull 拉取所有子模块</span><br></pre></td></tr></table></figure>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><h3 id="1-创建带子模块的版本库"><a href="#1-创建带子模块的版本库" class="headerlink" title="1. 创建带子模块的版本库"></a>1. 创建带子模块的版本库</h3><p>例如我们要创建如下结构的项目</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">project</span><br><span class="line">    |--moduleA</span><br><span class="line">    |--readme.txt</span><br></pre></td></tr></table></figure>
<p>创建project版本库，并提交readme.txt文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git init --bare project.git</span><br><span class="line">git <span class="built_in">clone</span> project.git project1cd project1</span><br><span class="line"><span class="built_in">echo</span><span class="string">"This is a project."</span> &gt; readme.txt</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"add readme.txt"</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<p>创建moduleA版本库，并提交a.txt文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git init --bare moduleA.git</span><br><span class="line">git <span class="built_in">clone</span> moduleA.git moduleA1</span><br><span class="line"><span class="built_in">cd</span> moduleA1</span><br><span class="line"><span class="built_in">echo</span><span class="string">"This is a submodule."</span> &gt; a.txt</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"add a.txt"</span></span><br><span class="line">git push origin mastercd ..</span><br></pre></td></tr></table></figure>
<p>在project项目中引入子模块moduleA，并提交子模块信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> project1</span><br><span class="line">git submodule add ../moduleA.git moduleA</span><br><span class="line">git statusgit diff</span><br><span class="line">git add .</span><br><span class="line">git commit -m<span class="string">"add submodule"</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<p>使用git status可以看到多了两个需要提交的文件，其中.gitmodules指定submodule的主要信息，包括子模块的路径和地址信息，moduleA指定了子模块的commit id，使用git diff可以看到这两项的内容。这里需要指出父项目的git并不会记录submodule的文件变动，它是按照commit id指定submodule的git header，所以.gitmodules和moduleA这两项是需要提交到父项目的远程仓库的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">On branch master</span><br><span class="line">Your branch is up-to-datewith<span class="string">'origin/master'</span>.</span><br><span class="line">Changes to be committed:  (use <span class="string">"git reset HEAD ..."</span>to unstage)</span><br><span class="line">    new file:   .gitmodules</span><br><span class="line">    new file:   moduleA</span><br></pre></td></tr></table></figure>
<h3 id="2-克隆带子模块的版本库"><a href="#2-克隆带子模块的版本库" class="headerlink" title="2. 克隆带子模块的版本库"></a>2. 克隆带子模块的版本库</h3><p>方法一，先clone父项目，再初始化submodule，最后更新submodule，初始化只需要做一次，之后每次只需要直接update就可以了，需要注意submodule默认是不在任何分支上的，它指向父项目存储的submodule commit id。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> project.git project2</span><br><span class="line"><span class="built_in">cd</span> project2</span><br><span class="line">git submodule init</span><br><span class="line">git submodule updatecd ..</span><br></pre></td></tr></table></figure>
<p>方法二，采用递归参数–recursive，需要注意同样submodule默认是不在任何分支上的，它指向父项目存储的submodule commit id。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> project.git project3 --recursive</span><br></pre></td></tr></table></figure>
<h3 id="3-修改子模块"><a href="#3-修改子模块" class="headerlink" title="3. 修改子模块"></a>3. 修改子模块</h3><p>修改子模块之后只对子模块的版本库产生影响，对父项目的版本库不会产生任何影响，如果父项目需要用到最新的子模块代码，我们需要更新父项目中submodule commit id，默认的我们使用git status就可以看到父项目中submodule commit id已经改变了，我们只需要再次提交就可以了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> project1/moduleA</span><br><span class="line">git branch</span><br><span class="line"><span class="built_in">echo</span><span class="string">"This is a submodule."</span> &gt; b.txt</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"add b.txt"</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">git status</span><br><span class="line">git diff</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"update submodule add b.txt"</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<h3 id="4-更新子模块"><a href="#4-更新子模块" class="headerlink" title="4. 更新子模块"></a>4. 更新子模块</h3><p>更新子模块的时候要注意子模块的分支默认不是master。<br>方法一，先pull父项目，然后执行<figure class="highlight plain"><figcaption><span>submodule update```，注意moduleA的分支始终不是master。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```bash</span><br><span class="line">cd project2</span><br><span class="line">git pull</span><br><span class="line">git submodule updatecd ..</span><br></pre></td></tr></table></figure></p>
<p>方法二，先进入子模块，然后切换到需要的分支，这里是master分支，然后对子模块pull，这种方法会改变子模块的分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> project3/moduleA</span><br><span class="line">git checkout master</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">git submodule foreach git pull</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure>
<h3 id="5-删除子模块"><a href="#5-删除子模块" class="headerlink" title="5. 删除子模块"></a>5. 删除子模块</h3><p>网上有好多用的是下面这种方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached moduleA</span><br><span class="line">rm -rf moduleA</span><br><span class="line">rm .gitmodules</span><br><span class="line">vim .git/config</span><br></pre></td></tr></table></figure>
<p>删除submodule相关的内容，例如下面的内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[submodule <span class="string">"moduleA"</span>]      url = /Users/nick/dev/nick-doc/testGitSubmodule/moduleA.git</span><br></pre></td></tr></table></figure>
<p>然后提交到远程服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m<span class="string">"remove submodule"</span></span><br></pre></td></tr></table></figure>
<p>但是我自己本地实验的时候，发现用下面的方式也可以，服务器记录的是.gitmodules和moduleA，本地只要用git的删除命令删除moduleA，再用git status查看状态就会发现.gitmodules和moduleA这两项都已经改变了，至于.git/config，仍会记录submodule信息，但是本地使用也没发现有什么影响，如果重新从服务器克隆则.git/config中不会有submodule信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rm moduleA</span><br><span class="line">git status</span><br><span class="line">git commit -m<span class="string">"remove submodule"</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> git </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
